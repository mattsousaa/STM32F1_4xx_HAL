#include "main.h"
#include <string.h>
#include <stdio.h>

UART_HandleTypeDef huart2;

void MX_USART2_UART_Init(void);
void Error_Handler(void);
void SystemClock_Config();

char *msg_user = "The application is running\r\n";

int main(void){

	char msg[100];

  
	HAL_Init();
	MX_USART2_UART_Init();
	SystemClock_Config();



  	while(1);

  	return 0;

}

void SystemClock_Config(){

	RCC_OscInitTypeDef osc_init;
	RCC_ClkInitTypeDef clk_init;

	uint32_t FLatency = 0;

	osc_init.OscillatorType = RCC_OSCILLATORTYPE_HSI;
	osc_init.HSIState = RCC_HSI_ON;
	//osc_init.HSICalibrationValue = 16;
	osc_init.PLL.PLLState = RCC_PLL_ON;
	osc_init.PLL.PLLSource = RCC_PLLSOURCE_HSI;
}

void MX_USART2_UART_Init(void){

	huart2.Instance = USART2;
	huart2.Init.BaudRate = 115200;
	huart2.Init.WordLength = UART_WORDLENGTH_8B;
	huart2.Init.StopBits = UART_STOPBITS_1;
	huart2.Init.Parity = UART_PARITY_NONE;
	huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
	huart2.Init.Mode = UART_MODE_TX;

	if(HAL_UART_Init(&huart2) != HAL_OK){
		//There is a problem
		Error_Handler();
	}
}


void Error_Handler(void){
	while(1);
}


